## CHAPTER 5 구조체 및 인터페이스
### 5.1 구조체
필드들의 묶음
### 5.1.1 구조체 사용법
```
❗️ 마지막에 쉼표를 붙이지 않으면 세미콜론이 붙게 되어 구문 오류 발생
```
### 5.1.2 const와 iota
- 확장성: bool -> enum(상수)
- iota
  - 0부터 1씩 증가
### 5.1.3 테이블 기반 테스트
### 5.1.4 구조체 내장
필드 이름 생략
### 5.2 직렬화와 역직렬화
- 직렬화: 객체의 상태를 보관이나 전송 가능한 상태로 변환
- 역직렬화: 보관되거나 전송받은 것을 객체로 복원
### 5.2.1 JSON
- 직렬화 하고 싶은 필드만 공개(대문자)
- JSON 태그
  - 필드 이름 설정
  - `-`: 무시
  - omitempty: zero value의 경우 무시
  - 자료형 변경
    - [i] 자바스크립트의 경우 숫자형은 모두 실수형이기 때문에 string으로 주고 받는 게 좋음
### 5.2.2 Gob
- Go 에서만 읽고 쓸 수 있는 형태
### 5.3 인터페이스
메서드들의 묶음
### 5.3.1 인터페이스의 정의
### 5.3.2 커스텀 프린터
### 5.3.3 정렬과 힙
- 퀵소트 사용
- 힙소트
  - 정렬이 끝나지 않은 상황에서도 지금까지 정렬된 자료 이용 가능
### 5.3.4 외부 의존성 줄이기
- 구조체 대신 인터페이스 사용
### 5.3.5 빈 인터페이스와 형 단언
- 빈 인터페이스: 아무 자료형이나 취급 가능
- 일반적인 형변환
  - 자료형(변환할 값)
- 인터페이스에서 형 단언
  - `.(string)`
  - 단언한 형이 아니라면 런타임에 패닉 발생
### 5.3.6 인터페이스 변환 스위치
```go
switch x := a[i].(type)
```
- 타입에 따라 분기
### 5.4 마치며
### 5.5 연습문제
1. 이번 장에서 만든 Task 구조체의 MarkDone 메서드를 구현해보자. 이 메서드가 호출되면 해당 작업 및 SubTask 들 모두 상태가 DONE 으로 바뀐다.
   - [task.go](./task.go)
2. 정렬 인터페이스에 예제로 나와 있는 ExampleCaseInsensitiveSort 는 한 가지 경우만 테스트한다. 테이블 기반 테스트를 이용한 TestCaseInsensitiveSort 함수를 구현하여 여러가지 경우의 수에 대하여 정렬이 제대로 동작하는 지 확인해보자.
   - [sort_test.go](./sort_test.go)
3. JSON 으로 구조체를 직렬화하여 보관하고 이것을 역직렬화하여 이용하는 코드가 있다. 원래 필드는 int64형에 이름을 붙인 ID 라는 자료형을 이용하였는데 자바스크립트에서 53비트 이상의 정수를 제대로 읽을 수 없는 문제 때문에 JSON 출력에서는 string 형으로 변경하려고 한다. JSON 태그 `json:",string"`을 이용하면 되는 문제지만 기존에 저장된 자료를 읽을 때 발생하는 문제가 있어서, 예전 형식인 정수로 되어 있는 경우와 문자열로 되어 있는 경우 모두 읽을 수 있는 역직렬화 코드를 작성하고 싶다. UnmarshalJSON 과 형 단언을 이용하여 이것을 가능하게 해보자.
   - [json.go](./json.go)
4. Task 구조체 슬라이스를 마감 날짜순 혹은 중요도 순으로 정렬할 수 있게 sort.Interface 를 구현해보자. CaseInsensitive 에서 본 예제처럼 각각 다른 이름을 붙여서 구현해보자.
   - [sort.go](./sort.go)
5. 4장의 생성기 패턴과 5장의 인터페이스를 이용하여 각각 반복자를 구현해보자.

---
#### 보너스
**문제1. 글자와 단어 뒤집기**
```
input: "안녕 하세요 친구들 빡빡이 아저씨 입니다"
output: "다니입 씨저아 이빡빡 들구친 요세하 녕안"
```
- [reverse.go](./reverse.go)